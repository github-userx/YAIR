!function(e){function n(e){return" "==e||"\n"==e}function t(e){return/[\x09-\x0d ]/.test(e)}function l(e){return/[A-Za-z0-9]/.test(e)}function r(e){return/[A-Za-z]/.test(e)}function s(e){return/[0-9]/.test(e)}function a(e){return/[0-9a-fA-F]/.test(e)}function i(e){return/[\x20-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]/.test(e)}function c(e){var n="0123456789ABCDEF";return"%"+n[(240&e)>>4]+n[(15&e)>>0]}function o(e){var n=e.charCodeAt(0);if(n<128)return c(n);if(n>127&&n<2048){var t=c(n>>6&255|192);return t+=c(n>>0&63|128)}t=c(n>>12&255|224);return t+=c(n>>6&63|128),t+=c(n>>0&63|128)}function u(e,n){var l,r=0,s=e.length;if(s<3||"<"!=e[0])return Cn;"/"==e[l=1]&&(r=1,l++);for(var a=0;l<s&&!(a>=n.length);++l,++a)if(e[l]!=n[a])return Cn;return l==s?Cn:t(e[l])||">"==e[l]?r?En:An:Cn}function f(e,n){for(var t,l=0;l<n.s.length;){for(t=l;l<n.s.length&&"\\"!=n.s[l];)l++;if(l>t&&(e.s+=n.s.slice(t,l)),l+1>=n.s.length)break;e.s+=n.s[l+1],l+=2}}function h(e,n,t){for(var l,r=0,s=0;r<n.length;){for(l=r;r<n.length&&!(s=ye[n.charCodeAt(r)]);)r++;if(r>l&&(e.s+=n.slice(l,r)),r>=n.length)break;"/"!=n[r]||t?7==ye[n.charCodeAt(r)]||(e.s+=Ie[s]):e.s+="/",r++}}function g(e,n){for(var t,l=0;l<n.length;){for(t=l;l<n.length&&1===He[n.charCodeAt(l)];)l++;if(l>t&&(e.s+=n.slice(t,l)),l>=n.length)break;if(2!=He[n.charCodeAt(l)]){switch(n[l]){case"&":e.s+="&amp;";break;case"'":e.s+="&#x27;";break;default:e.s+=o(n[l])}l++}else l++}}function p(e,n,t,l,s){var a,i,c=e.slice(t),o=0;for(i=0;i<n;++i)if("<"==c[i]){n=i;break}for(;n>0;){var u=c[n-1];if("\0"===u)break;if(-1!=="?!.,".indexOf(u))n--;else{if(";"!==u)break;for(var f=n-2;f>0&&r(c[f]);)f--;f<n-2&&"&"==c[f]?n=f:n--}}if(0==n)return 0;switch(a=c[n-1]){case'"':o='"';break;case"'":o="'";break;case")":o="(";break;case"]":o="[";break;case"}":o="{"}if(0!=o){for(var h=0,g=0,p=0;p<n;)c[p]==o?g++:c[p]==a&&h++,p++;h!=g&&n--}return n}function k(e,n){var t,r=0;if(!l(e[0]))return 0;for(t=1;t<e.length-1;++t)if("."==e[t])r++;else if(!l(e[t])&&"-"!=e[t])break;return n?t:r?t:0}function b(e){var n,t=["http://","https://","ftp://","mailto://","/","git://","steam://","irc://","news://","mumble://","ssh://","ircs://","ts3server://","#"];for(n=0;n<t.length;++n){var l=t[n].length;if(e.length>l&&0==e.toLowerCase().indexOf(t[n])&&/[A-Za-z0-9#\/?]/.test(e[l]))return 1}return 0}function v(e,n,l,r,s){var a=n,c=new $(e,n);if(r<2||l<1||c.getChar(-1)!=s)return 0;if(l>1){var o=c.getChar(-2);return"/"==o?2:i(o)||t(o)?1:0}return a>2&&"/"==c.getChar(-2)&&"\\"==c.getChar(-3)?0:1}function d(e){if(e)for(var n in e)n in this&&(this[n]=e[n])}function m(e,n){this.callbacks=e,this.context=n}function _(){return{nofollow:0,target:null,tocData:{headerCount:0,currentLevel:0,levelOffset:0},toc_id_prefix:null,html_element_whitelist:yn,html_attr_whitelist:Mn,flags:0,link_attributes:function(e,n,t){t.nofollow&&(e.s+=' rel="nofollow"'),null!=t.target&&(e.s+=' target="'+t.target+'"')}}}function w(e){var n=_();n.flags=null==e?Dn:e;var t=new m(x(),n);return t.context.flags&gn&&(t.callbacks.image=null),t.context.flags&pn&&(t.callbacks.link=null,t.callbacks.autolink=null),(t.context.flags&fn||t.context.flags&mn)&&(t.callbacks.blockhtml=null),t}function x(){return new d({blockcode:L,blockquote:T,blockhtml:C,header:A,hrule:E,list:D,listitem:O,paragraph:M,table:y,table_row:I,table_cell:H,autolink:K,codespan:R,double_emphasis:q,emphasis:N,image:P,linebreak:U,link:B,raw_html_tag:z,triple_emphasis:F,strikethrough:G,superscript:W,entity:null,normal_text:Y,doc_header:null,doc_footer:J})}function S(){return new d({blockcode:null,blockquote:null,blockhtml:null,header:Z,hrule:null,list:null,listitem:null,paragraph:null,table:null,table_row:null,table_cell:null,autolink:null,codespan:R,double_emphasis:q,emphasis:N,image:null,linebreak:null,link:j,raw_html_tag:null,triple_emphasis:F,strikethrough:G,superscript:W,entity:null,normal_text:null,doc_header:null,doc_footer:Q})}function L(e,n,l,r){if(e.s.length&&(e.s+="\n"),l&&l.s.length){var s,a;for(e.s+='<pre><code class="',s=0,a=0;s<l.s.length;++s,++a){for(;s<l.s.length&&t(l.s[s]);)s++;if(s<l.s.length){for(var i=s;s<l.s.length&&!t(l.s[s]);)s++;"."==l.s[i]&&i++,a&&(e.s+=" "),h(e,l.s.slice(i,s),!1)}}e.s+='">'}else e.s+="<pre><code>";n&&h(e,n.s,!1),e.s+="</code></pre>\n"}function T(e,n,t){e.s.length&&(e.s+="\n"),e.s+="<blockquote>\n",n&&(e.s+=n.s),e.s+="</blockquote>\n"}function C(e,n,t){var l,r;if(n){for(r=n.s.length;r>0&&"\n"==n.s[r-1];)r--;for(l=0;l<r&&"\n"==n.s[l];)l++;l>=r||(e.s.length&&(e.s+="\n"),e.s+=n.s.slice(l,r),e.s+="\n")}}function A(e,n,t,l){e.s.length&&(e.s+="\n"),l.flags&bn?(e.s+="<h"+ +t+' id="',l.toc_id_prefix&&(e.s+=l.toc_id_prefix),e.s+="toc_"+l.tocData.headerCount+++'">'):e.s+="<h"+ +t+">",n&&(e.s+=n.s),e.s+="</h"+ +t+">\n"}function E(e,n){e.s.length&&(e.s+="\n"),e.s+=n.flags&dn?"<hr/>\n":"<hr>\n"}function D(e,n,t,l){e.s.length&&(e.s+="\n"),e.s+=t&Re?"<ol>\n":"<ul>\n",n&&(e.s+=n.s),e.s+=t&Re?"</ol>\n":"</ul>\n"}function O(e,n,t,l){if(e.s+="<li>",n){for(var r=n.s.length;r&&"\n"==n.s[r-1];)r--;e.s+=n.s.slice(0,r)}e.s+="</li>\n"}function M(e,n,l){var r=0;if(e.s.length&&(e.s+="\n"),n&&n.s.length){for(;r<n.s.length&&t(n.s[r]);)r++;if(r!=n.s.length){if(e.s+="<p>",l.flags&vn)for(var s;r<n.s.length;){for(s=r;r<n.s.length&&"\n"!=n.data[r];)r++;if(r>s&&(e.s+=n.s.slice(s,r)),r>=n.s.length-1)break;U(e,l),r++}else e.s+=n.s.slice(r);e.s+="</p>\n"}}}function y(e,n,t,l){e.s.length&&(e.s+="\n"),e.s+="<table><thead>\n",n&&(e.s+=n.s),e.s+="</thead><tbody>\n",t&&(e.s+=t.s),e.s+="</tbody></table>\n"}function I(e,n,t){e.s+="<tr>\n",n&&(e.s+=n.s),e.s+="</tr>\n"}function H(e,n,t,l,r){switch(e.s+=t&Tn?"<th":"<td",r>1&&(e.s+=' colspan="'+r+'" '),t&Ln){case Sn:e.s+=' align="center">';break;case wn:e.s+=' align="left">';break;case xn:e.s+=' align="right">';break;default:e.s+=">"}n&&(e.s+=n.s),e.s+=t&Tn?"</th>\n":"</td>\n"}function K(e,n,t,l){return n&&n.s.length&&(0==(l.flags&kn)||b(n.s)||t==nn)?(e.s+='<a href="',t==nn&&(e.s+="mailto:"),g(e,n.s.slice(0)),l.link_attributes?(e.s+='"',l.link_attributes(e,n,l),e.s+=">"):e.s+='">',0==n.s.indexOf("mailto:")?h(e,n.s.slice(7),!1):h(e,n.s,!1),e.s+="</a>",1):0}function R(e,n,t){return e.s+="<code>",n&&h(e,n.s,!1),e.s+="</code>",1}function q(e,n,t){return n&&n.s.length?(e.s+="<strong>"+n.s+"</strong>",1):0}function N(e,n,t){return n&&n.s.length?(e.s+="<em>"+n.s+"</em>",1):0}function P(e,n,t,l,r){return n&&n.s.length?(e.s+='<img src="',g(e,n.s),e.s+='" alt="',l&&l.s.length&&h(e,l.s,!1),t&&t.s.length&&(e.s+='" title="',h(e,t.s,!1)),e.s+=r.flags&dn?'"/>':'">',1):0}function U(e,n){return e.s+=n.flags&dn?"<br/>\n":"<br>\n",1}function B(e,n,t,l,r){return null==n||0==(r.flags&kn)||b(n.s)?(e.s+='<a href="',n&&n.s.length&&g(e,n.s),t&&t.s.length&&(e.s+='" title="',h(e,t.s,!1)),r.link_attributes?(e.s+='"',r.link_attributes(e,n,r),e.s+=">"):e.s+='">',l&&l.s.length&&(e.s+=l.s),e.s+="</a>",1):0}function X(e,n,t,l,r,s){var a,i,c,o,u,f=0,g=0,p=0,k=0,b=0;if(e.s+="<",s!=En){e.s+=l;var v=1+l.length;for(c=new V,o=new V;v<n.s.length&&!p;v++){switch(u=n.s[v],p=0,b=0,k=0,u){case">":p=1;break;case"'":case'"':g?f?f==u?(f=0,k=1):o.s+=u:f=u:b=1;break;case" ":f?o.s+=" ":b=1;break;case"=":if(g){b=1;break}g=1;break;default:(g&&f||!g)&&(g?o.s+=u:c.s+=u)}if(k){var d=0;for(i=0;r[i];i++)if(r[i].length==c.s.length){for(a=0;a<c.s.length&&r[i][a].toLowerCase()==c.s[a].toLowerCase();a++);if(a==c.s.length){d=1;break}}d&&o.s.length&&c.s.length&&(e.s+=" ",h(e,c.s,!1),e.s+='="',h(e,o.s,!1),e.s+='"'),b=1}b&&(g=0,f=0,c=new V,o=new V)}e.s+=">"}else e.s+="/"+l+">"}function z(e,n,t){var l=t.html_element_whitelist;if(0!=(t.flags&_n)&&l)for(var r=0;l[r];r++){var s=u(n.s,l[r]);if(s!=Cn)return X(e,n,0,l[r],t.html_attr_whitelist,s),1}return 0!=(t.flags&mn)?(h(e,n.s,!1),1):0!=(t.flags&fn)?1:0!=(t.flags&hn)&&u(n.s,"style")?1:0!=(t.flags&pn)&&u(n.s,"a")?1:0!=(t.flags&gn)&&u(n.s,"img")?1:(e.s+=n.s,1)}function F(e,n,t){return n&&n.s.length?(e.s+="<strong><em>"+n.s+"</em></strong>",1):0}function G(e,n,t){return n&&n.s.length?(e.s+="<del>"+n.s+"</del>",1):0}function W(e,n,t){return n&&n.s.length?(e.s+="<sup>"+n.s+"</sup>",1):0}function Y(e,n,t){n&&h(e,n.s,!1)}function Z(e,n,t,l){if(0==l.tocData.currentLevel&&(e.s+='<div class="toc">\n',l.tocData.levelOffset=t-1),(t-=l.tocData.levelOffset)>l.tocData.currentLevel)for(;t>l.tocData.currentLevel;)e.s+="<ul>\n<li>\n",l.tocData.currentLevel++;else if(t<l.tocData.currentLevel){for(e.s+="</li>\n";t<l.tocData.currentLevel;)e.s+="</ul>\n</li>\n",l.tocData.currentLevel--;e.s+="<li>\n"}else e.s+="</li>\n<li>\n";e.s+='<a href="#',l.toc_id_prefix&&(e.s+=l.toc_id_prefix),e.s+="toc_"+l.tocData.headerCount+++'">',n&&h(e,n.s,!1),e.s+="</a>\n"}function j(e,n,t,l,r){return l&&l.s&&(e.s+=l.s),1}function J(e,n){n.tocData={headerCount:0,currentLevel:0,levelOffset:0}}function Q(e,n){for(var t=!1;n.tocData.currentLevel>0;)e.s+="</li>\n</ul>\n",n.tocData.currentLevel--,t=!0;t&&(e.s+="</div>\n"),J(0,n)}function V(e){this.s=e||""}function $(e,n){if(this.s=e,n>=e.length||n<0)throw new RangeError("char * offset out of bounds");this.offset=n}function ee(){this.spanStack=[],this.blockStack=[],this.extensions=tn|on|sn|an|ln|ln;var e=w();this.context=e.context,this.callbacks=e.callbacks,this.inLinkBody=0,this.activeChars={},this.refs={},this.nestingLimit=16,this.maxTableCols=64}function ne(e){var n;for(n=0;n<e.length&&"\n"!=e[n];n++)if(" "!=e[n])return 0;return n+1}function te(e){var n,t=0,l=0;if(e.length<3)return 0;if(" "==e[0]&&(t++," "==e[1]&&(t++," "==e[2]&&t++)),t+2>=e.length||"*"!=e[t]&&"-"!=e[t]&&"_"!=e[t])return 0;for(n=e[t];t<e.length&&"\n"!=e[t];){if(e[t]==n)l++;else if(" "!=e[t])return 0;t++}return l>=3}function le(e,t){var l=0,r=0;if(0==(l=function(e){var n,t=0,l=0;if(e.length<3)return 0;if(" "==e[0]&&(t++," "==e[1]&&(t++," "==e[2]&&t++)),t+2>=e.length||"~"!=e[t]&&"`"!=e[t])return 0;for(n=e[t];t<e.length&&e[t]==n;)l++,t++;return l<3?0:t}(e)))return 0;for(;l<e.length&&" "==e[l];)l++;var s;if(s=l,l<e.length&&"{"==e[l]){for(l++,s++;l<e.length&&"}"!=e[l]&&"\n"!=e[l];)r++,l++;if(l==e.length||"}"!=e[l])return 0;for(;r>0&&n(e[s+0]);)s++,r--;for(;r>0&&n(e[s+r-1]);)r--;l++}else for(;l<e.length&&!n(e[l]);)r++,l++;for(t&&(t.s=e.substr(s,r));l<e.length&&"\n"!=e[l];){if(!n(e[l]))return 0;l++}return l+1}function re(e,n){for(var t=1;t<e.length;){for(;t<e.length&&e[t]!=n&&"`"!=e[t]&&"["!=e[t];)t++;if(t==e.length)return 0;if(e[t]==n)return t;if(t&&"\\"==e[t-1])t++;else if("`"==e[t]){for(var l,r=0,s=0;t<e.length&&"`"==e[t];)t++,r++;if(t>=e.length)return 0;for(l=0;t<e.length&&l<r;)s||e[t]!=n||(s=t),"`"==e[t]?l++:l=0,t++;if(t>=e.length)return s}else if("["==e[t]){var a;s=0;for(t++;t<e.length&&"]"!=e[t];)s||e[t]!=n||(s=t),t++;for(t++;t<e.length&&(" "==e[t]||"\n"==e[t]);)t++;if(t>=e.length)return s;switch(e[t]){case"[":a="]";break;case"(":a=")";break;default:if(s)return s;continue}for(t++;t<e.length&&e[t]!=a;)s||e[t]!=n||(s=t),t++;if(t>=e.length)return s;t++}}return 0}function se(e,t,l,r){var s,a,c=l.slice(1),o=0;if(!t.callbacks.emphasis)return 0;for(c.length>1&&c[0]==r&&c[1]==r&&(o=1);o<c.length;){if(!(s=re(c.slice(o),r)))return 0;if((o+=s)>=c.length)return 0;if(c[o]==r&&!n(c[o-1])){if(t.extensions&tn&&"_"==r&&o+1!=c.length&&!n(c[o+1])&&!i(c[o+1]))continue;var u=new V;return t.spanStack.push(u),pe(u,t,c.slice(0,o)),a=t.callbacks.emphasis(e,u,t.context),t.spanStack.pop(),a?o+1:0}}return 0}function ae(e,t,l,r){var s,a,i=l.slice(2),c=0,o="~"==r?t.callbacks.strikethrough:t.callbacks.double_emphasis;if(!o)return 0;for(;c<i.length;){if(!(s=re(i.slice(c),r)))return 0;if((c+=s)+1<i.length&&i[c]==r&&i[c+1]==r&&c&&!n(i[c-1])){var u=new V;return t.spanStack.push(u),pe(u,t,i.slice(0,c)),a=o(e,u,t.context),t.spanStack.pop(),a?c+2:0}c++}return 0}function ie(e,n){if("#"!=n[0])return!1;if(e.extensions&cn){for(var t=0;t<n.length&&t<6&&"#"==n[t];)t++;if(t<n.length&&" "!=n[t])return!1}return!0}function ce(e){var n=0,t=e.length;if("="==e[n]){for(n=1;n<t&&"="==e[n];n++);for(;n<t&&" "==e[n];)n++;return n>=t||"\n"==e[n]?1:0}if("-"==e[n]){for(n=1;n<t&&"-"==e[n];n++);for(;n<t&&" "==e[n];)n++;return n>=t||"\n"==e[n]?2:0}return 0}function oe(e){for(var n=e.length,t=0;t<n&&"\n"!=e[t];)t++;return++t>=n?0:ce(e.slice(t))}function ue(e){var n=0,t=e.length;return n<t&&" "==e[n]&&n++,n<t&&" "==e[n]&&n++,n<t&&" "==e[n]&&n++,n<t&&">"==e[n]?n+1<t&&" "==e[n+1]?n+2:n+1:0}function fe(e){return e.length>3&&" "==e[0]&&" "==e[1]&&" "==e[2]&&" "==e[3]?4:0}function he(e){var n=e.length,t=0;if(t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t>=n||e[t]<"0"||e[t]>"9")return 0;for(;t<n&&e[t]>="0"&&e[t]<="9";)t++;return t+1>=n||"."!=e[t]||" "!=e[t+1]?0:oe(e.slice(t))?0:t+2}function ge(e){var n=e.length,t=0;return t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t+1>=n||"*"!=e[t]&&"+"!=e[t]&&"-"!=e[t]||" "!=e[t+1]?0:oe(e.slice(t))?0:t+2}function pe(e,n,t){var l=0,r=0,s=0,a=0,i=new V;if(!(n.spanStack.length+n.blockStack.length>n.nestingLimit))for(;l<t.length;){for(;r<t.length&&!(a=n.activeChars[t[r]]);)r++;if(n.callbacks.normal_text?(i.s=t.slice(l,r),n.callbacks.normal_text(e,i,n.context)):e.s+=t.slice(l,r),r>=t.length)break;l=r,(r=Ke[a](e,n,t,l,l-s))?s=r=l+=r:r=l+1}}function ke(e,n,t){for(var l,r,s,a=0;a<t.length&&a<6&&"#"==t[a];)a++;for(l=a;l<t.length&&" "==t[l];l++);for(r=l;r<t.length&&"\n"!=t[r];r++);for(s=r;r&&"#"==t[r-1];)r--;for(;r&&" "==t[r-1];)r--;if(r>l){var i=new V;n.spanStack.push(i),pe(i,n,t.slice(l,r)),n.callbacks.header&&n.callbacks.header(e,i,a,n.context),n.spanStack.pop()}return s}function be(e,n,t){var l,r;return e.length+3>=t.length||t.slice(2).toLowerCase()!=e||">"!=t[e.length+2]?0:(l=e.length+3,r=0,l<t.length&&0==(r=ne(t.slice(l)))?0:(l+=r,r=0,l<t.length&&(r=ne(t.slice(l))),l+r))}function ve(e,n,t,l){var r,s,a=0,i=null,c=new V(t);if(t.length<2||"<"!=t[0])return 0;for(r=1;r<t.length&&">"!=t[r]&&" "!=t[r];)r++;if(r<t.length&&(i=function(e){return-1!=["p","dl","div","math","table","ul","del","form","blockquote","figure","ol","fieldset","h1","h6","pre","script","h5","noscript","style","iframe","h4","ins","h3","h2"].indexOf(e.toLowerCase())?e.toLowerCase():""}(t.slice(1))),!i){if(t.length>5&&"!"==t[1]&&"-"==t[2]&&"-"==t[3]){for(r=5;r<t.length&&("-"!=t[r-2]||"-"!=t[r-1]||">"!=t[r]);)r++;if(++r<size&&(a=ne(t.slice(r))),a)return c.s=t.slice(0,r+a),l&&n.callbacks.blockhtml&&n.callbacks.blockhtml(e,c,n.context),c.s.length}if(t.length>4&&("h"==t[1]||"H"==t[1])&&("r"==t[2]||"R"==t[2])){for(r=3;r<t.length&&">"!=t[r];)r++;if(r+1<t.length&&(r++,a=ne(t.slice(r))))return c.s=t.slice(0,r+a),l&&n.callbacks.blockhtml&&n.callbacks.blockhtml(e,c,n.context),c.s.length}return 0}if(r=1,s=0,"ins"!=i&&"del"!=i){var o=i.length;for(r=1;r<t.length;){for(r++;r<t.length&&("<"!=t[r-1]||"/"!=t[r]);)r++;if(r+2+o>=t.length)break;if(a=be(tag,0,t.slice(r-1))){r+=a-1,s=1;break}}}return s?(c.s=c.s.slice(0,r),l&&n.callbacks.blockhtml&&n.callbacks.blockhtml(e,c,n.context),r):0}function de(e,n,t){var l,r,s=t.length,a=0,i="",c=new V;for(n.blockStack.push(c),l=0;l<s;){for(a=l+1;a<s&&"\n"!=t[a-1];a++);if(r=ue(t.slice(l,a)))l+=r;else if(ne(t.slice(l,a))&&(a>=s||0==ue(t.slice(a))&&!ne(t.slice(a))))break;l<a&&(i+=t.slice(l,a),a-l),l=a}return Ce(c,n,i),n.callbacks.blockquote&&n.callbacks.blockquote(e,c,n.context),n.blockStack.pop(),a}function me(e,n,t){for(var r=0,s=0,a=0,i=t.length,c=new V(t);r<i;){for(s=r+1;s<i&&"\n"!=t[s-1];s++);if(0!=ue(t.slice(r,s))){s=r;break}var o=t.slice(r);if(ne(o)||0!=(a=ce(o)))break;if(ne(o))break;if(0!=(a=ce(o)))break;if(ie(n,o)||te(o)||ue(o)){s=r;break}if(n.extensions&un&&!l(t[r])){if(he(o)||ge(o)){s=r;break}if("<"==t[r]&&n.callbacks.blockhtml&&ve(e,n,o,0)){s=r;break}if(0!=(n.extensions&&rn)&&0!=le(o,null)){s=r;break}}r=s}for(var u=r;u&&"\n"==t[u-1];)u--;if(c.s=c.s.slice(0,u),a){var f=null;if(c.size){var h;for(r=c.s.length;u&&"\n"!=t[u];)u-=1;for(h=u+1;u&&"\n"==t[u-1];)u-=1;if(c.s=c.s.slice(0,u),u>0){g=new V;n.blockStack.push(g),pe(g,n,c.s),n.callbacks.paragraph&&n.callbacks.paragraph(e,g,n.context),n.blockStack.pop(),c.s=c.s.slice(h,r)}else c.s=c.s.slice(0,r)}f=new V,n.spanStack.push(f),pe(f,n,c.s),n.callbacks.header&&n.callbacks.header(e,f,a,n.context),n.spanStack.pop()}else{var g=new V;n.blockStack.push(g),pe(g,n,c.s),n.callbacks.paragraph&&n.callbacks.paragraph(e,g,n.context),n.blockStack.pop()}return s}function _e(e,n,t){var l,r,s=null,a=new V;if(0==(l=le(t,a)))return 0;for(s=new V,n.blockStack.push(s);l<t.length;){var i,c=new V;if(0!=(i=le(t.slice(l),c))&&0==c.s.length){l+=i;break}for(r=l+1;r<t.length&&"\n"!=t[r-1];r++);if(l<r){var o=t.slice(l,r);ne(o)?s.s+="\n":s.s+=o}l=r}return s.s.length&&"\n"!=s.s[s.s.length-1]&&(s.s+="\n"),n.callbacks.blockcode&&n.callbacks.blockcode(e,s,a.s.length?a:null,n.context),n.blockStack.pop(),l}function we(e,n,t){var l,r,s,a=t.length,i=null;for(n.blockStack.push(i=new V),l=0;l<a;){for(r=l+1;r<a&&"\n"!=t[r-1];r++);if(s=fe(t.slice(l,r)))l+=s;else if(!ne(t.slice(l,r)))break;l<r&&(ne(t.slice(l,r))?i.s+="\n":i.s+=t.slice(l,r)),l=r}for(var c=i.s.length;c&&"\n"==i.s[c-1];)c-=1;return i.s=i.s.slice(0,c),i.s+="\n",n.callbacks.blockcode&&n.callbacks.blockcode(e,i,null,n.context),n.blockStack.pop(),l}function xe(e,n,t,l){for(var r,s,a,i=t.length,c=null,o=null,u=0,f=0,h=0,g=0,p=0,k=0;h<3&&h<i&&" "==t[h];)h++;if((u=ge(t))||(u=he(t)),!u)return 0;for(r=u;r<i&&"\n"!=t[r-1];)r++;for(n.spanStack.push(c=new V),n.spanStack.push(o=new V),c.s+=t.slice(u,r),u=r;u<i;){var b,v;for(r++;r<i&&"\n"!=t[r-1];)r++;if(ne(t.slice(u,r)))g=1,u=r;else{for(a=0;a<4&&u+a<r&&" "==t[u+a];)a++;if(s=a,n.flags&rn&&0!=le(t.slice(u+a,r),null)&&(k=!k),k||(b=ge(t.slice(u+a,r)),v=he(t.slice(u+a,r))),g&&(l.p&Re&&b||!(l.p&Re)&&v)){l.p|=Ne;break}if(b&&!te(t.slice(u+a,r))||v){if(g&&(p=1),s==h)break;f||(f=c.s.length)}else{if(g&&0==s){l.p|=Ne;break}g&&(c.s+="\n",p=1)}g=0,c.s+=t.slice(u+a,r),u=r}}return p&&(l.p|=qe),l.p&qe?f&&f<c.s.length?(Ce(o,n,c.s.slice(0,f)),Ce(o,n,c.s.slice(f))):Ce(o,n,c.s):f&&f<c.s.length?(pe(o,n,c.s.slice(0,f)),Ce(o,n,c.s.slice(f))):pe(o,n,c.s),n.callbacks.listitem&&n.callbacks.listitem(e,o,l.p,n.context),n.spanStack.pop(),n.spanStack.pop(),u}function Se(e,n,t,l){var r,s=t.length,a=0,i=null;for(n.blockStack.push(i=new V);a<s;){var c={p:l};if(r=xe(i,n,t.slice(a),c),l=c.p,a+=r,!r||l&Ne)break}return n.callbacks.list&&n.callbacks.list(e,i,l,n.context),n.blockStack.pop(),a}function Le(e,t,l,r,s){var a,i,c=0,o=null;if(t.callbacks.table_cell&&t.callbacks.table_row){for(t.spanStack.push(o=new V),c<l.length&&"|"==l[c]&&c++,a=0;a<r.length&&c<l.length;++a){var u,f,h;for(t.spanStack.push(h=new V);c<l.length&&n(l[c]);)c++;for(u=c;c<l.length&&"|"!=l[c];)c++;for(f=c-1;f>u&&n(l[f]);)f--;pe(h,t,l.slice(u,1+f)),t.callbacks.table_cell(o,h,r[a]|s,t.context,0),t.spanStack.pop(),c++}if((i=r.length-a)>0){t.callbacks.table_cell(o,null,r[a]|s,t.context,i)}t.callbacks.table_row(e,o,t.context),t.spanStack.pop()}}function Te(e,t,l){var r,s,a,i={p:null};if(t.spanStack.push(s=new V),t.blockStack.push(a=new V),(r=function(e,t,l,r){for(var s,a,i,c=0,o=0;c<l.length&&"\n"!=l[c];)"|"==l[c++]&&o++;if(c==l.length||0==o)return 0;for(a=c;a>0&&n(l[a-1]);)a--;if("|"==l[0]&&o--,a&&"|"==l[a-1]&&o--,o+1>t.maxTableCols)return 0;r.p=new Array(o+1);for(var u=0;u<r.p.length;u++)r.p[u]=0;for(++c<l.length&&"|"==l[c]&&c++,i=c;i<l.length&&"\n"!=l[i];)i++;for(s=0;s<r.p.length&&c<i;++s){for(var f=0;c<i&&" "==l[c];)c++;for(":"==l[c]&&(c++,r.p[s]|=wn,f++);c<i&&"-"==l[c];)c++,f++;for(c<i&&":"==l[c]&&(c++,r.p[s]|=xn,f++);c<i&&" "==l[c];)c++;if(c<i&&"|"!=l[c])break;if(f<1)break;c++}return s<r.p.length?0:(Le(e,t,l.slice(0,a),r.p,Tn),i+1)}(s,t,l,i))>0){for(;r<l.length;){var c,o=0;for(c=r;r<l.length&&"\n"!=l[r];)"|"==l[r++]&&o++;if(0==o||r==l.length){r=c;break}Le(a,t,l.slice(c,r),i.p,0),r++}t.callbacks.table&&t.callbacks.table(e,s,a,t.context)}return t.spanStack.pop(),t.blockStack.pop(),r}function Ce(e,n,t){var l,r,s=0;if(!(n.spanStack.length+n.blockStack.length>n.nestingLimit))for(;s<t.length;)if(r=t.slice(s),t.length-s,ie(n,r))s+=ke(e,n,r);else if("<"==t[s]&&n.callbacks.blockhtml&&0!=(l=ve(e,n,r,1)))s+=l;else if(0!=(l=ne(r)))s+=l;else if(te(r)){for(n.callbacks.hrule&&n.callbacks.hrule(e,n.context);s<t.length&&"\n"!=t[s];)s++;s++}else 0!=(n.extensions&rn)&&0!=(l=_e(e,n,r))?s+=l:0!=(n.extensions&ln)&&0!=(l=Te(e,n,r))?s+=l:ue(r)?s+=de(e,n,r):fe(r)?s+=we(e,n,r):ge(r)?s+=Se(e,n,r,0):he(r)?s+=Se(e,n,r,Re):s+=me(e,n,r)}function Ae(e,n,t,l){var r,s,a,i,c,o,u,f=0;if(n+3>=t)return 0;if(" "==e[n]&&(f=1," "==e[n+1]&&(f=2," "==e[n+2]&&(f=3," "==e[n+3]))))return 0;if(f+=n,"["!=e[f])return 0;for(r=++f;f<t&&"\n"!=e[f]&&"\r"!=e[f]&&"]"!=e[f];)f++;if(f>=t||"]"!=e[f])return 0;if(s=f,++f>=t||":"!=e[f])return 0;for(f++;f<t&&" "==e[f];)f++;for(f<t&&("\n"==e[f]||"\r"==e[f])&&++f<t&&"\r"==e[f]&&"\n"==e[f-1]&&f++;f<t&&" "==e[f];)f++;if(f>=t)return 0;for("<"==e[f]&&f++,a=f;f<t&&" "!=e[f]&&"\n"!=e[f]&&"\r"!=e[f];)f++;for(i=">"==e[f-1]?f-1:f;f<t&&" "==e[f];)f++;if(f<t&&"\n"!=e[f]&&"\r"!=e[f]&&"'"!=e[f]&&'"'!=e[f]&&"("!=e[f])return 0;if(u=0,(f>=t||"\r"==e[f]||"\n"==e[f])&&(u=f),f+1<t&&"\n"==e[f]&&"\r"==e[f+1]&&(u=f+1),u)for(f=u+1;f<t&&" "==e[f];)f++;if(c=o=0,f+1<t&&("'"==e[f]||'"'==e[f]||"("==e[f])){for(c=++f;f<t&&"\n"!=e[f]&&"\r"!=e[f];)f++;for(o=f+1<t&&"\n"==e[f]&&"\r"==e[f+1]?f+1:f,f-=1;f>c&&" "==e[f];)f-=1;f>c&&("'"==e[f]||'"'==e[f]||")"==e[f])&&(u=o,o=f)}if(!u||i==a)return 0;var h=e.slice(r,s),g=e.slice(a,i),p=null;return o>c&&(p=e.slice(c,o)),l.refs[h]={id:h,link:new V(g),title:new V(p)},u}function Ee(e,n){for(var t=0,l=0;t<n.length;){for(var r=t;t<n.length&&"\t"!=n[t];)t++,l++;if(t>r&&(e.s+=n.slice(r,t)),t>=n.length)break;do{e.s+=" ",l++}while(l%4);t++}}var De=1114111,Oe=7,Me=["&AElig;","&Aacute;","&Acirc;","&Agrave;","&Alpha;","&Aring;","&Atilde;","&Auml;","&Beta;","&Ccedil;","&Chi;","&Dagger;","&Delta;","&ETH;","&Eacute;","&Ecirc;","&Egrave;","&Epsilon;","&Eta;","&Euml;","&Gamma;","&Iacute;","&Icirc;","&Igrave;","&Iota;","&Iuml;","&Kappa;","&Lambda;","&Mu;","&Ntilde;","&Nu;","&OElig;","&Oacute;","&Ocirc;","&Ograve;","&Omega;","&Omicron;","&Oslash;","&Otilde;","&Ouml;","&Phi;","&Pi;","&Prime;","&Psi;","&Rho;","&Scaron;","&Sigma;","&THORN;","&Tau;","&Theta;","&Uacute;","&Ucirc;","&Ugrave;","&Upsilon;","&Uuml;","&Xi;","&Yacute;","&Yuml;","&Zeta;","&aacute;","&acirc;","&acute;","&aelig;","&agrave;","&alefsym;","&alpha;","&amp;","&and;","&ang;","&apos;","&aring;","&asymp;","&atilde;","&auml;","&bdquo;","&beta;","&brvbar;","&bull;","&cap;","&ccedil;","&cedil;","&cent;","&chi;","&circ;","&clubs;","&cong;","&copy;","&crarr;","&cup;","&curren;","&dArr;","&dagger;","&darr;","&deg;","&delta;","&diams;","&divide;","&eacute;","&ecirc;","&egrave;","&empty;","&emsp;","&ensp;","&epsilon;","&equiv;","&eta;","&eth;","&euml;","&euro;","&exist;","&fnof;","&forall;","&frac12;","&frac14;","&frac34;","&frasl;","&gamma;","&ge;","&gt;","&hArr;","&harr;","&hearts;","&hellip;","&iacute;","&icirc;","&iexcl;","&igrave;","&image;","&infin;","&int;","&iota;","&iquest;","&isin;","&iuml;","&kappa;","&lArr;","&lambda;","&lang;","&laquo;","&larr;","&lceil;","&ldquo;","&le;","&lfloor;","&lowast;","&loz;","&lrm;","&lsaquo;","&lsquo;","&lt;","&macr;","&mdash;","&micro;","&middot;","&minus;","&mu;","&nabla;","&nbsp;","&ndash;","&ne;","&ni;","&not;","&notin;","&nsub;","&ntilde;","&nu;","&oacute;","&ocirc;","&oelig;","&ograve;","&oline;","&omega;","&omicron;","&oplus;","&or;","&ordf;","&ordm;","&oslash;","&otilde;","&otimes;","&ouml;","&para;","&part;","&permil;","&perp;","&phi;","&pi;","&piv;","&plusmn;","&pound;","&prime;","&prod;","&prop;","&psi;","&quot;","&rArr;","&radic;","&rang;","&raquo;","&rarr;","&rceil;","&rdquo;","&real;","&reg;","&rfloor;","&rho;","&rlm;","&rsaquo;","&rsquo;","&sbquo;","&scaron;","&sdot;","&sect;","&shy;","&sigma;","&sigmaf;","&sim;","&spades;","&sub;","&sube;","&sum;","&sup1;","&sup2;","&sup3;","&sup;","&supe;","&szlig;","&tau;","&there4;","&theta;","&thetasym;","&thinsp;","&thorn;","&tilde;","&times;","&trade;","&uArr;","&uacute;","&uarr;","&ucirc;","&ugrave;","&uml;","&upsih;","&upsilon;","&uuml;","&weierp;","&xi;","&yacute;","&yen;","&yuml;","&zeta;","&zwj;","&zwnj;"],ye=[7,7,7,7,7,7,7,7,7,0,0,7,7,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,1,0,0,0,2,3,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,5,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=["","&quot;","&amp;","&#39;","&#47;","&lt;","&gt;",""],He=[2,2,2,2,2,2,2,2,2,0,0,2,2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];d.prototype={blockcode:null,blockquote:null,blockhtml:null,header:null,hrule:null,list:null,listitem:null,paragraph:null,table:null,table_row:null,table_cell:null,autolink:null,codespan:null,double_emphasis:null,emphasis:null,image:null,linebreak:null,link:null,raw_html_tag:null,triple_emphasis:null,strikethrough:null,superscript:null,entity:null,normal_text:null,doc_header:null,doc_footer:null},e.createCustomRenderer=function(e,n){return new m(e,n)},e.defaultRenderState=_,e.getRedditRenderer=w,e.getTocRenderer=function(){var e=_();return e.flags=bn|fn,new m(S(),e)},e.createCustomCallbacks=function(e){return new d(e)},e.getRedditCallbacks=x,e.getTocCallbacks=S;var Ke=[null,function(e,t,l,r,s){var a,i=l.slice(r),c=i.length,o=i[0];return c>2&&i[1]!=o?"~"==o||n(i[1])||0==(a=se(e,t,i,o))?0:a+1:i.length>3&&i[1]==o&&i[2]!=o?n(i[2])||0==(a=ae(e,t,i,o))?0:a+2:i.length>4&&i[1]==o&&i[2]==o&&i[3]!=o?"~"==o||n(i[3])||0==(a=function(e,t,l,r){for(var s,a,i=l.slice(3),c=0;c<i.length;){if(!(s=re(i.slice(c),r)))return 0;if(c+=s,i[c]==r&&!n(i[c-1])){if(c+2<i.length&&i[c+1]==r&&i[c+2]==r&&t.callbacks.triple_emphasis){var o=new V;return t.spanStack.push(o),pe(o,t,i.slice(0,c)),a=t.callbacks.triple_emphasis(e,o,t.context),t.spanStack.pop(),a?c+3:0}return c+1<i.length&&i[c+1]==r?(s=se(e,t,l,r))?s-2:0:(s=ae(e,t,l,r))?s-1:0}}return 0}(e,t,i,o))?0:a+3:0},function(e,n,t,l,r){for(var s,a,i,c,o=t.slice(l),u=0;u<o.length&&"`"==o[u];)u++;for(a=0,s=u;s<o.length&&a<u;s++)"`"==o[s]?a++:a=0;if(a<u&&s>=o.length)return 0;for(i=u;i<s&&" "==o[i];)i++;for(c=s-u;c>u&&" "==o[c-1];)c--;if(i<c){var f=new V(o.slice(i,c));n.callbacks.codespan(e,f,n.context)||(s=0)}else n.callbacks.codespan(e,null,n.context)||(s=0);return s},function(e,n,t,l,r){if(t.slice(l),r<2||" "!=t[l-1]||" "!=t[l-2])return 0;for(var s=e.s.length;s&&" "==e.s[s-1];)s--;return e.s=e.s.slice(0,s),n.callbacks.linebreak(e,n.context)?1:0},function(e,t,l,r,s){function a(){return t.spanStack.length=w,S?h:0}var i,c,o=l.slice(r),u=s&&"!"==l[r-1],h=1,g=0,p=0,k=0,b=0,v=null,d=null,m=null,_=null,w=t.spanStack.length,x=0,S=0,L=0,T=0;if(u&&!t.callbacks.image||!u&&!t.callbacks.link)return a();for(i=1;h<o.length;h++)if("\n"==o[h])x=1;else{if("\\"==o[h-1])continue;if("["==o[h])i++;else if("]"==o[h]&&--i<=0)break}if(h>=o.length)return a();for(c=h,h++;h<o.length&&n(o[h]);)h++;if(h<o.length&&"("==o[h]){for(h++;h<o.length&&n(o[h]);)h++;for(g=h;h<o.length;)if("\\"==o[h])h+=2;else{if(")"==o[h])break;if(h>=1&&n(o[h-1])&&("'"==o[h]||'"'==o[h]))break;h++}if(h>=o.length)return a();if(p=h,"'"==o[h]||'"'==o[h]){for(T=o[h],L=1,k=++h;h<o.length;)if("\\"==o[h])h+=2;else if(o[h]==T)L=0,h++;else{if(")"==o[h]&&!L)break;h++}if(h>=o.length)return a();for(b=h-1;b>k&&n(o[b]);)b--;"'"!=o[b]&&'"'!=o[b]&&(k=b=0,p=h)}for(;p>g&&n(o[p-1]);)p--;"<"==o[g]&&g++,">"==o[p-1]&&p--,p>g&&(d=new V,t.spanStack.push(d),d.s+=o.slice(g,p)),b>k&&(m=new V,t.spanStack.push(m),m.s+=o.slice(k,b)),h++}else if(h<o.length&&"["==o[h]){var C=new V,A=null;for(g=++h;h<o.length&&"]"!=o[h];)h++;if(h>=o.length)return a();if(p=h,g==p)if(x){var E=new V;for(t.spanStack.push(E),D=1;D<c;D++)"\n"!=o[D]?E.s+=o[D]:" "!=o[D-1]&&(E.s+=" ");C.s=E.s}else C.s=o.slice(1);else C.s=o.slice(g,p);if(!(A=t.refs[C.s]))return a();d=A.link,m=A.title,h++}else{if(C=new V,A=null,x){E=new V,t.spanStack.push(E);var D;for(D=1;D<c;D++)"\n"!=o[D]?E.s+=o[D]:" "!=o[D-1]&&(E.s+=" ");C.s=E.s}else C.s=o.slice(1,c);if(!(A=t.refs[C.s]))return a();d=A.link,m=A.title,h=c+1}return c>1&&(v=new V,t.spanStack.push(v),u?v.s+=o.slice(1,c):(t.inLinkBody=1,pe(v,t,o.slice(1,c)),t.inLinkBody=0)),d?(_=new V,t.spanStack.push(_),f(_,d),u?(e.s.length&&"!"==e.s[e.s.length-1]&&(e.s=e.s.slice(0,-1)),S=t.callbacks.image(e,_,m,v,t.context)):S=t.callbacks.link(e,_,m,v,t.context),a()):a()},function(e,n,t,r,s){var a=t.slice(r),i={p:$e},c=function(e,n){var t,r;if(e.length<3)return 0;if("<"!=e[0])return 0;if(t="/"==e[1]?2:1,!l(e[t]))return 0;for(n.p=$e;t<e.length&&(l(e[t])||"."==e[t]||"+"==e[t]||"-"==e[t]);)t++;if(t>1&&"@"==e[t]&&0!=(r=function(e){var n=0,t=0;for(n=0;n<e.length;++n)if(!l(e[n]))switch(e[n]){case"@":t++;case"-":case".":case"_":break;case">":return 1==t?n+1:0;default:return 0}return 0}(e.slice(t))))return n.p=nn,t+r;if(t>2&&":"==e[t]&&(n.p=en,t++),t>=e.length)n.p=$e;else if(n.p){for(r=t;t<e.length;)if("\\"==e[t])t+=2;else{if(">"==e[t]||"'"==e[t]||'"'==e[t]||" "==e[t]||"\n"==e[t])break;t++}if(t>=e.length)return 0;if(t>r&&">"==e[t])return t+1;n.p=$e}for(;t<e.length&&">"!=e[t];)t++;return t>=e.length?0:t+1}(a,i),o=new V(a.slice(0,c)),u=0;if(c>2)if(n.callbacks.autolink&&i.p!=$e){var h=new V;n.spanStack.push(h),o.s=a.substr(1,c-2),f(h,o),u=n.callbacks.autolink(e,h,i.p,n.context),n.spanStack.pop()}else n.callbacks.raw_html_tag&&(u=n.callbacks.raw_html_tag(e,o,n.context));return u?c:0},function(e,n,t,l,r){var s=t.slice(l),a=new V;if(s.length>1){if(-1=="\\`*_{}[]()#+-.!:|&<>/^~".indexOf(s[1]))return 0;n.callbacks.normal_text?(a.s=s[1],n.callbacks.normal_text(e,a,n.context)):e.s+=s[1]}else 1==s.length&&(e.s+=s[0]);return 2},function(e,n,t,r,i){var c,o,u,f=t.slice(r),h=1,g=!1,p=!1,k=new V;for(h<f.length&&"#"===f[h]&&(g=!0,h++),h<f.length&&g&&"x"===f[h].toLowerCase()&&(p=!0,h++),c=h;h<f.length;){var b=f[h];if(p){if(!a(b))break}else if(g){if(!s(b))break}else if(!l(b))break;h++}if(!(h>c&&h<f.length&&";"===f[h]))return 0;if(h++,g&&void 0-c>Oe)return 0;if(g){if(o=p?16:10,u=parseInt(f.slice(c),o),!function(e){return e>8&&11!==e&&12!==e&&(e<14||e>31)&&(e<55296||e>57343)&&65534!==e&&65535!==e&&e<=De}(u))return 0}else if(-1===Me.indexOf(f.slice(0,h)))return 0;return n.callbacks.entity?(k.s=f.slice(0,h),n.callbacks.entity(e,k,n.context)):e.s+=f.slice(0,h),h},function(e,n,l,s,a){var i,c=l.slice(s),o=null,u={p:null};return!n.callbacks.autolink||n.inLinkBody?0:(o=new V,n.spanStack.push(o),(i=function(e,n,l,s,a,i,c){var o,u,f=l.slice(s),h=0;if(i<4||"/"!=l[s+1]||"/"!=l[s+2])return 0;for(;h<a&&r(l[s-h-1]);)h++;if(!b(l.substr(s-h,i+h)))return 0;if(o="://".length,0==(u=k(f.slice(o),c&Ve)))return 0;for(o+=u;o<i&&!t(l[s+o]);)o++;return 0==(o=p(l,o,s))?0:(n.s+=l.substr(s-h,o+h),e.p=h,o)}(u,o,l,s,a,c.length,0))>0&&(u.p>0&&e.truncate(e.s.length-u.p),n.callbacks.autolink(e,o,en,n.context)),n.spanStack.pop(),i)},function(e,n,t,r,s){var a,i=t.slice(r),c=null,o={p:null};return!n.callbacks.autolink||n.inLinkBody?0:(c=new V,n.spanStack.push(c),(a=function(e,n,t,r,s,a,i){t.slice(r);var c,o,u=0,f=0;for(o=0;o<s&&"\0"!=(h=t[r-o-1])&&(l(h)||-1!=".+-_".indexOf(h));++o);if(0==o)return 0;for(c=0;c<a;++c){var h;if(!l(h=t[r+c]))if("@"==h)u++;else if("."==h&&c<a-1)f++;else if("-"!=h&&"_"!=h)break}return c<2||1!=u||0==f?0:0==(c=p(t,c,r))?0:(n.s+=t.substr(r-o,c+o),e.p=o,c)}(o,c,t,r,s,i.length))>0&&(o.p>0&&e.truncate(e.s.length-o.p),n.callbacks.autolink(e,c,nn,n.context)),n.spanStack.pop(),a)},function(e,n,l,r,s){var a,c=l.slice(r),o=null,u=null,f=null,h={p:null};return!n.callbacks.link||n.inLinkBody?0:(o=new V,n.spanStack.push(o),(a=function(e,n,l,r,s,a,c){var o,u=l.slice(r);if(s>0&&!i(l[r-1])&&!t(l[r-1]))return 0;if(a<4||"www."!=u.slice(0,4))return 0;if(0==(o=k(u,0)))return 0;for(;o<a&&!t(u[o]);)o++;return 0==(o=p(l,o,r))?0:(n.s+=u.slice(0,o),e.p=0,o)}(h,o,l,r,s,c.length))>0&&(u=new V,n.spanStack.push(u),u.s+="http://",u.s+=o.s,h.p>0&&e.truncate(e.s.length-h.p),n.callbacks.normal_text?(f=new V,n.spanStack.push(f),n.callbacks.normal_text(f,o,n.context),n.callbacks.link(e,u,null,f,n.context),n.spanStack.pop()):n.callbacks.link(e,u,null,o,n.context),n.spanStack.pop()),n.spanStack.pop(),a)},function(e,n,t,r,s){var a=t.slice(r),i=null,c=0,o={p:null},u={p:null};if(!n.callbacks.autolink||n.inLinkBody)return 0;if(i=new V,n.spanStack.push(i),0===(c=function(e,n,t,r,s,a,i){var c=t.slice(r),o=0,u=!1,f=v(t,r,s,a,"r");if(!f)return 0;o="/".length,"all-"==c.substr(o,4).toLowerCase()&&(u=!0);do{var h=o,g=24;if(a>=o+10&&"reddit.com"==c.substr(o,10).toLowerCase())o+=10,g=10;else{if(a>o+2&&"t:"==c.substr(o,2)&&(o+=2),!l(c[o]))return 0;o+=1}for(;o<a&&(l(c[o])||"_"==c[o]);)o++;if(o-h<2||o-h>g)return 0}while(o<a&&("+"==c[o]||u&&"-"==c[o])&&o++);if(o<a&&"/"==c[o])for(;o<a&&(l(c[o])||"_"==c[o]||"/"==c[o]||"-"==c[o]);)o++;var p=r-f;return n.s+=t.slice(p,p+o+f),i.p=1==f,e.p=f,o}(o,i,t,r,s,a.length,u))&&(c=function(e,n,t,r,s,a,i){var c=t.slice(r),o=0;if(!(a<3)){var u=v(t,r,s,a,"u");if(!u)return 0;if(o="/".length,!l(c[o])&&"_"!=c[o]&&"-"!=c[o])return 0;for(o+=1;o<a&&(l(c[o])||"_"==c[o]||"/"==c[o]||"-"==c[o]);)o++;var f=r-u;return n.s+=t.slice(f,f+o+u),i.p=1==u,e.p=u,o}}(o,i,t,r,s,a.length,u)),c>0){var f=new V;if(n.spanStack.push(f),u.p&&(f.s+="/"),f.s+=i.s,o.p>0&&e.truncate(e.s.length-o.p),n.callbacks.normal_text){var h=new V;n.spanStack.push(h),n.callbacks.normal_text(h,i,n.context),n.callbacks.link(e,f,null,h,n.context),n.spanStack.pop()}else n.callbacks.link(e,f,null,i,n.context);n.spanStack.pop()}return n.spanStack.pop(),c},function(e,t,l,r,s){var a,i,c=l.slice(r),o=c.length,u=null;if(!t.callbacks.superscript)return 0;if(o<2)return 0;if("("==c[1]){for(a=i=2;i<o&&")"!=c[i]&&"\\"!=c[i-1];)i++;if(i==o)return 0}else for(a=i=1;i<o&&!n(c[i]);)i++;return i-a==0?2==a?3:0:(u=new V,t.spanStack.push(u),pe(u,t,c.slice(a,i)),t.callbacks.superscript(e,u,t.context),t.spanStack.pop(),2==a?i+1:i)}],Re=1,qe=2,Ne=8,Pe=0,Ue=(Pe++,Pe++),Be=Pe++,Xe=Pe++,ze=Pe++,Fe=Pe++,Ge=Pe++,We=Pe++,Ye=Pe++,Ze=Pe++,je=Pe++,Je=Pe++,Qe=Pe++,Ve=1;Pe=0;var $e=Pe++,en=Pe++,nn=Pe++,tn=1,ln=2,rn=4,sn=8,an=16,cn=64,on=128,un=256,fn=1,hn=2,gn=4,pn=8,kn=32,bn=64,vn=128,dn=256,mn=512,_n=1024,wn=1,xn=2,Sn=3,Ln=3,Tn=4,Cn=0,An=1,En=2;V.prototype.truncate=function(e){if(this.s.length<e)throw new RangeError("Buffer smaller than desired size");if(e<0)throw new RangeError("Size argument is negative");this.s=this.s.slice(0,e)},$.prototype.getChar=function(e){var n=this.offset+e;if(n>=this.s.length||n<0)throw new RangeError("Character index out of bounds");return this.s.slice(n,n+1)},$.prototype.toString=function(){return this.s.slice(this.offset)},ee.prototype.render=function(e){var n,t=new V,l=0;for(this.refs={};l<e.length;)if(n=Ae(e,l,e.length,this))l=n;else{for(n=l;n<e.length&&"\n"!=e[n]&&"\r"!=e[n];)n++;for(n>l&&Ee(t,e.slice(l,n));n<e.length&&("\n"==e[n]||"\r"==e[n]);)("\n"==e[n]||n+1<e.length&&"\n"!=e[n+1])&&(t.s+="\n"),n++;l=n}var r=new V;return this.callbacks.doc_header&&this.callbacks.doc_header(r,this.context),t.s.length&&("\n"!=t.s[t.s.length-1]&&"\r"!=t.s[t.s.length-1]&&(t.s+="\n"),Ce(r,this,t.s)),this.callbacks.doc_footer&&this.callbacks.doc_footer(r,this.context),r.s},e.getParser=function(e,n,t,l){var r=new ee;e&&(r.callbacks=e.callbacks),t&&(r.nestingLimit=t),t&&(r.maxTableCols=l),e&&(r.context=e.context),void 0!=n&&null!=n&&(r.extensions=n);var s=r.callbacks;return(s.emphasis||s.double_emphasis||s.triple_emphasis)&&(r.activeChars["*"]=Ue,r.activeChars._=Ue,r.extensions&an&&(r.activeChars["~"]=Ue)),s.codespan&&(r.activeChars["`"]=Be),s.linebreak&&(r.activeChars["\n"]=Xe),(s.image||s.link)&&(r.activeChars["["]=ze),r.activeChars["<"]=Fe,r.activeChars["\\"]=Ge,r.activeChars["&"]=We,r.extensions&sn&&(512&r.extensions||(r.activeChars["@"]=Ze),r.activeChars[":"]=Ye,r.activeChars.w=je,r.activeChars["/"]=Je),r.extensions&on&&(r.activeChars["^"]=Qe),r};var Dn=fn|gn|kn|mn|dn,On=fn|kn|_n|mn|dn,Mn=["colspan","rowspan","cellspacing","cellpadding","scope"],yn=["tr","th","td","table","tbody","thead","tfoot","caption"];e.DEFAULT_HTML_ELEMENT_WHITELIST=yn,e.DEFAULT_HTML_ATTR_WHITELIST=Mn,e.DEFAULT_BODY_FLAGS=Dn,e.DEFAULT_WIKI_FLAGS=On,e.HTML_SKIP_HTML=fn,e.HTML_SKIP_STYLE=hn,e.HTML_SKIP_IMAGES=gn,e.HTML_SKIP_LINKS=pn,e.HTML_EXPAND_TABS=16,e.HTML_SAFELINK=kn,e.HTML_TOC=bn,e.HTML_HARD_WRAP=vn,e.HTML_USE_XHTML=dn,e.HTML_ESCAPE=mn,e.HTML_ALLOW_ELEMENT_WHITELIST=_n,e.MKDEXT_NO_INTRA_EMPHASIS=tn,e.MKDEXT_TABLES=ln,e.MKDEXT_FENCED_CODE=rn,e.MKDEXT_AUTOLINK=sn,e.MKDEXT_STRIKETHROUGH=an,e.MKDEXT_SPACE_HEADERS=cn,e.MKDEXT_SUPERSCRIPT=on,e.MKDEXT_LAX_SPACING=un,e.MKDEXT_NO_EMAIL_AUTOLINK=512,e.SD_AUTOLINK_SHORT_DOMAINS=Ve,e.MKDA_NOT_AUTOLINK=$e,e.MKDA_NORMAL=en,e.MKDA_EMAIL=nn,"function"==typeof define&&define("snuownd",[],e)}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window.SnuOwnd={}:{});

// version from https://github.com/JordanMilne/snuownd